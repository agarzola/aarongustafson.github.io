
<!DOCTYPE html>
<html id="aaron-gustafson_com" lang="en" dir="ltr">

	<head>

	<meta charset="utf-8">
	
	<!--[if IE]>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
		<meta http-equiv="cleartype" content="on">
	<![endif]-->
	
	



<title>Quantity Queries… Where Have You Been All My Life?, From the Notebook of Aaron Gustafson</title>
<meta property="og:title" content="Quantity Queries… Where Have You Been All My Life?, From the Notebook of Aaron Gustafson">

<meta property="og:url" content="http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/">

<meta name="author" content="Aaron Gustafson">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Aaron Gustafson">
<meta property="og:image" content="http://www.aaron-gustafson.com/i/og-logo.png">
<meta property="og:locale" content="en_US">

<meta property="og:description" content="I love-love-love Heydon Pickering’s “quantity queries” technique.">
<meta name="description" content="I love-love-love Heydon Pickering’s “quantity queries” technique.">

<!-- Twitter -->
<meta name="twitter:card" value="summary"/>
<meta name="twitter:site" value="@AaronGustafson"/>



<link href="/atom.xml" rel="alternate" title="Posts and Links From the Notebook of Aaron Gustafson" type="application/atom+xml">
<link href="/atom-latest-posts.xml" rel="alternate" title="Posts From the Notebook of Aaron Gustafson" type="application/atom+xml">
<link href="/atom-latest-links.xml" rel="alternate" title="Links From the Notebook of Aaron Gustafson" type="application/atom+xml">

<meta name="revisit-after" content="7 days">
<meta name="ROBOTS" content="index,follow">
<meta name="robots" content="NOODP">

<link href="https://plus.google.com/+AaronGustafson?rel=author" rel="publisher">
<meta property="fb:admins" content="100002880350996">

<link rel="pingback" href="http://webmention.io/aaron-gustafson.com/xmlrpc" />
<link rel="webmention" href="http://webmention.io/aaron-gustafson.com/webmention" />




	
	<link href="/favicon.png" rel="icon">
	
	

<link rel="stylesheet" href="/c/default.css" media="screen">
<!--[if gt IE 8]><!-->
	<link rel="stylesheet" href="/c/advanced.css" media="screen">
<!--<![endif]-->
<!--[if (IE 8)&(!IEMobile)]>
	<link rel="stylesheet" href="/c/old-ie.css" media="screen">
<![endif]-->
<link rel="stylesheet" href="/c/print.css" media="print">

	<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="MobileOptimized" content="width">
<meta name="HandheldFriendly" content="true">
	
	

<script>
	(function(d){var config={kitId:'jje3afr',scriptTimeout:3000},h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='//use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config);}catch(e){}};s.parentNode.insertBefore(tk,s);})(document);
</script>



	
	<script type="text/javascript">
		function _kms(e){setTimeout(function(){var t=document,n=t.getElementsByTagName("script")[0],r=t.createElement("script");r.type="text/javascript";r.async=true;r.src=e;n.parentNode.insertBefore(r,n)},1)}var _kmq=_kmq||[];var _kmk=_kmk||"f0d52d1a61f4cb2f69aa62a6c07c049f7ae815b6";_kms("//i.kissmetrics.com/i.js");_kms("//doug1izaerwt3.cloudfront.net/"+_kmk+".1.js")
	</script>

	
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-176472-5', 'http://www.aaron-gustafson.com');
		ga('send', 'pageview');
	</script>





</head>


	<body  >

		

		<div class="alert"><strong>This site is <a href="/notebook/a-grand-experiment/">undergoing an open redesign</a>, so if it looks strange, that’s why.</strong></div>
		
		<header role="banner" class="banner">
	<div class="layout-container">
		<h1><a href="/">Aaron Gustafson</a></h1>
		
			<h2>Web Design Author, Evangelist, Practitioner, and Teacher</h2>
		
	</div>
</header>
		
		<main role="main">
			
			

<div class="layout-container">
	<article role="article" class="layout-container__primary h-entry">
		<div class="entry">
			<header class="entry__header">
		     	<h1 class="entry__title p-name">Quantity Queries… Where Have You Been All My Life?</h1>
			
				
					<p class="entry__meta">
		        		This will take 3 minutes to read

						
							| <a href="#disqus_thread" data-disqus-identifier="http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/">Comments</a>
							| <a href="#webmentions">Webmentions</a>
		        		
		      		</p>
		    	
		  	</header>
	
			

			<div class="entry__content e-content">
				<p><a href="http://twitter.com/heydonworks">Heydon Pickering</a>’s <a href="http://alistapart.com/article/quantity-queries-for-css">Quantity Queries for CSS</a> is sheer brilliance and it’s so simple I’m surprised we hadn’t landed on the idea sooner.</p>

<!-- more -->


<p>We&rsquo;ve all experienced this feeling: <em>I have no idea how many modules will be in this block, but I would love to lay them out differently depending on that number.</em> Short of writing exhaustive CSS to (hopefully, optimistically) cover all of your bases, we had not figured out a good way to do this.</p>

<p>Heydon to the rescue!</p>

<p>Here’s Heydon’s first quantity query example:</p>

<div><script src='https://gist.github.com/eddda1f32ed102cedd86.js?file=equal.css'></script>
<noscript><pre><code>li:nth-last-child(6):first-child, 
li:nth-last-child(6):first-child ~ li {
  color: green;
}</code></pre></noscript></div>


<p>With these selectors, the rule set would only apply if the total count of list items was exactly 6. Here’s what he is selecting:</p>

<ol>
<li>A list item (<code>li</code>) that is 6th sibling in a group of list item siblings when counted backwards (<code>:nth-last-child(6)</code>), but only if it is also the first of those siblings (<code>:first-child</code>); and</li>
<li>Any list item (<code>li</code>) siblings that follow the one selected above (<code>~</code>).</li>
</ol>


<p>Brilliant! <a href="http://alistapart.com/article/quantity-queries-for-css#section4">Heydon breaks it down way more eloquently</a> (and with illustrated squid to boot). To use this in your own projects, simply swap the &ldquo;6&rdquo; for whatever count you are looking for it to be equal to.</p>

<p>But Heydon doesn’t stop there. He also gives us ways to test for  more than or equal to and fewer than or equal to a certain number. We’ll start with the <br/>
&ldquo;more than&rdquo; variant (because everyone always wants more):</p>

<div><script src='https://gist.github.com/eddda1f32ed102cedd86.js?file=more-than-or-equal.css'></script>
<noscript><pre><code>li:nth-last-child(n+6),
li:nth-last-child(n+6) ~ li {
  /* properties here */
}</code></pre></noscript></div>


<p>This one is slightly more complex, using the <code>nth-*</code> formula to manage the calculation. In English, this selects:</p>

<ol>
<li>A list item (<code>li</code>) which is the sixth, seventh, eighth, etc. sibling in a collection of list item siblings when counted backwards from the end of that collection (<code>:nth-last-child(n+6)</code>); and</li>
<li>Any list item (<code>li</code>) siblings that follow the one(s) selected above (<code>~</code>).</li>
</ol>


<p>The magic is in the formula: <em>n+6</em>.</p>

<p>The way <code>nth-*</code> formulae work is that the &ldquo;n&rdquo; portion is about dividing the siblings into smaller groups based on the <em>n</em> multiplier. So &ldquo;2n&rdquo; means for every group of 2, &ldquo;3n&rdquo; means for every group of 3, and so on. In Heydon’s case, &ldquo;n&rdquo; simply means for every group of 1. The <em>n</em> multiplier starts as zero (for the first group) and then becomes 1, 2, 3, etc. in succession.</p>

<p>The number added or subtracted from this number (&ldquo;+6&rdquo; in the example) can be though of as the item in the count. Most often we see this in use as &ldquo;2n+2&rdquo; which stands for the second sibling in every group of two. It’s usually common to see this number be smaller than the grouping number (&ldquo;3n+2&rdquo;, &ldquo;5n+3&rdquo;, etc.). In Heydon’s example, however there is no grouping, so that logic doesn’t really apply. Instead you can think of it as simply adding the multiplier to 6: 0+6 (6), 1+6 (7), 2+6 (8), etc.</p>

<p>Now count from the end and then select that and everything that follows and you get a &ldquo;more than or equal to&rdquo; count based on the number (6 in his case, but again you can swap it out). Brilliant!</p>

<p>The final example he gives is for fewer than or equal to a particular number:</p>

<div><script src='https://gist.github.com/eddda1f32ed102cedd86.js?file=fewer-than-or-equal.css'></script>
<noscript><pre><code>li:nth-last-child(-n+6):first-child,
li:nth-last-child(-n+6):first-child ~ li {
  /* properties here */
}</code></pre></noscript></div>


<p>This one is largely the same as the &ldquo;more than&rdquo; example, but the multiplier is reversed (with the minus sign) which means the count runs backward: 0+6 (6), -1+5 (5), -2+6 (4), and so on.</p>

<p>I am just overjoyed with how brilliant this is. I can think of so many places to use it (and will likely be doing so quite soon).</p>

<h2>Bonus: Now with SASS</h2>

<p><a href="https://twitter.com/danielguillan">Daniel Guillan</a> has <a href="https://github.com/danielguillan/quantity-queries">ported this functionality (and more) to SASS</a> using a handful of really straightforward mixins. Here’s a demo:</p>

<p data-height="331" data-theme-id="0" data-slug-hash="GgBOxm" data-default-tab="result" data-user="danielguillan" class='codepen'>See the Pen <a href='http://codepen.io/danielguillan/pen/GgBOxm/'>Quantity Queries Sass mixins demo</a> by Daniel Guillan (<a href='http://codepen.io/danielguillan'>@danielguillan</a>) on <a href='http://codepen.io'>CodePen</a>.</p>


<script async src="//assets.codepen.io/assets/embed/ei.js"></script>


<p>Happy counting!</p>

			</div>

			<footer class="entry__footer">
				
					


<p class="entry__sharing">If you liked this, would you mind sharing it?
	<a class="share_link share_link--twitter" href="https://twitter.com/intent/tweet?original_referer=http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/&amp;source=tweetbutton&amp;text=Quantity+Queries…+Where+Have+You+Been+All+My+Life?&amp;url=http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/">Share on Twitter</a>
	<a class="share_link share_link--facebook" href="http://www.facebook.com/sharer.php?u=http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/">Post on Facebook</a>
	<a class="share_link share_link--linkedin" href="https://www.linkedin.com/cws/share?url=http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/&amp;original_referer=http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/">Share on LinkedIn</a>
	<a class="share_link share_link--googleplus" href="https://plus.google.com/share?url=http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/">Share on Google+</a>
</p>
			    

				<p class="entry__meta">
					This entry was posted on 








	





		<time class="dt-published" datetime="2015-03-20T08:00:03-07:00">20 March 2015</time> 
					<b class="hidden">by <a class="p-author h-card" href="/about">Aaron Gustafson</a></b>
					
					and was filed under: 


	<span class="post__categories">
		
			<a class='category p-category' href='/notebook/tags/css/'>css</a>, <a class='category p-category' href='/notebook/tags/sass/'>sass</a>, <a class='category p-category' href='/notebook/tags/web-design/'>web design</a>
		
	</span>


					
				</p>
			</footer>

			
				<hr>

				<section id="disqus" class="entry__comments">
					<h1>Comments</h1>
					<div id="disqus_thread" aria-live="polite">
						<noscript>
	<div class="nojs-fallback">
		<p>Sadly, I have not had the time to build a JavaScript-less implementation of the Disqus API yet, so you can’t comment. It’s a bummer. I really wanted to hear your thoughts.</p>
	</div>
</noscript>

					</div>
				</section>
			
		
			<hr>

			<section id="webmentions" class="entry__comments">
				<h1>Webmentions</h1>
				




	<div class="webmentions"><p class="webmentions__not-found">No webmentions were found</p></div>

			</section>

		</div>
	</article>
	
	
		<hr class="rule rule--optional">

		<aside class="layout-container__secondary">
			
	    		
	<div class="module module--about">
		<p>Hi there. I’m Aaron and I work on the Web. I’m a <a href="/publications/">prolific writer</a>, <a href="/speaking-engagements/">frequent speaker</a>, and <a href="/appearances/">evangelist for web stewardship</a>. I live &amp; work in Chattanooga, <abbr title="Tennessee">TN</abbr>. Want to know more? <a href="/about/">Read on</a>.</p>

	</div>

	

		
			<section class="module module--events">
				<h1 class="module__title">Let’s Meet Up</h1>
				<p>I travel often for conferences. If I’m coming to your city and you’d like to arrange a private training or consultation while I’m there, feel free to <a href="/contact/">reach out</a>.</p>

				<ul class="listing listing--events">
		

		<li class="listing__item listing__item--1 event event--future">
			<h2 class="listing__item__title event__title">
				
					<a href="http://lanyrd.com/2015/web-sherpa-summit/">Web Sherpa Summit</a>
				
			</h2>
			<p class="listing__item__meta">
				<b class="event__date">April 2015</b><br>
				<b class="event__location">Online</b>
			</p>
		</li>
	
		
	
	

		

		<li class="listing__item listing__item--2 event event--future">
			<h2 class="listing__item__title event__title">
				
					<a href="http://uxim15.uie.com/">UX Mobile Immersion</a>
				
			</h2>
			<p class="listing__item__meta">
				<b class="event__date">April 2015</b><br>
				<b class="event__location">Salt Lake City, UT USA</b>
			</p>
		</li>
	
		
	
	

		

		<li class="listing__item listing__item--3 event event--future">
			<h2 class="listing__item__title event__title">
				
					<a href="http://lanyrd.com/2015/convergese/">Converge SE</a>
				
			</h2>
			<p class="listing__item__meta">
				<b class="event__date">April 2015</b><br>
				<b class="event__location">Columbia, SC USA</b>
			</p>
		</li>
	
		
	
	

		

		<li class="listing__item listing__item--4 event event--future">
			<h2 class="listing__item__title event__title">
				
					<a href="http://lanyrd.com/2015/bdconf/">Breaking Development</a>
				
			</h2>
			<p class="listing__item__meta">
				<b class="event__date">June 2015</b><br>
				<b class="event__location">Nashville, TN USA</b>
			</p>
		</li>
	
		
					<li class="more"><a href="/speaking-engagements/#future-events">See More<b class="hidden"> Events</b></a></li>
				</ul>
			</section>
		
	
	

			
		
			
	

		</aside>
	

	<script src="/j/post.min.js" async></script>
</div>
			
	    </main>
	  	
		<hr class="rule rule--optional">
		
		<nav role="navigation">
	<div class="layout-container">

		<h1 class="hidden">Here’s what you can find on this site:</h1>
		<ul class="main-navigation">
			
				<li><a href="/about/"><b class="hidden">A Bit </b>About<b class="hidden"> Me</b></a></li>
			
				<li><a href="/notebook/"><b class="hidden">Entries in My </b>Notebook</a></li>
			
				<li><a href="/speaking-engagements/"><b class="hidden">A List of My </b>Speaking<b class="hidden"> Engagements</b></a></li>
			
				<li><a href="/publications/"><b class="hidden">A List of My </b>Publications</a></li>
			
				<li><a href="/appearances/"><b class="hidden">Links to </b>Interviews<b class="hidden"> I’ve Given</b></a></li>
			
				<li><a href="/contact/"><b class="hidden">The Requisite </b>Contact<b class="hidden"> Form</b></a></li>
			
			<li><a href="/atom.xml" title="subscribe via RSS">RSS</a></li>
		</ul>

		
			<form action="https://www.google.com/search" method="get" role="search">
				<ol>
					<li class="search">
						<label class="hidden">What are you looking for?</label>
						<input type="search" name="q">
					</li>
					<li><button><b class="hidden">Let’s see if </b>Google <b class="hidden">Finds </b>it</button></li>
				</ol>
			</form>
		
	</div>
</nav>
		
		<hr class="rule">
		
		<footer role="contentinfo" class="footer">
	<div class="layout-container">
		
			<p class="footer__fork-me">Did you spot a typo or error? Eesh. <a href="https://github.com/aarongustafson/aarongustafson.github.io/tree/source/source/2015-03-20-quantity-queries-where-have-you-been-all-my-life.markdown">Would you mind fixing it for me?</a> You’re so awesome.</p>
		
		<p class="footer__copyright"><b id="license">The content of this site is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons</a>.</b> <b>The site itself is powered by <a href="http://octopress.org">Octopress</a> and is <a href="https://github.com/aarongustafson/aarongustafson.github.io/">forkable on Github</a>.</b></p>
	</div>
</footer>
		
	  	


	<script>
		var disqus_shortname = 'aarongustafson',
		
			
			// disqus_developer = 1,
			disqus_identifier = 'http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/',
			disqus_url = 'http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/',
			disqus_script = 'embed.js';
		
		(function () {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		}());
	</script>



	<script src="/j/main.js"></script>




<noscript>
	<img src="http://nojsstats.appspot.com/UA-176472-5/http://www.aaron-gustafson.com/notebook/quantity-queries-where-have-you-been-all-my-life/" alt=""/>
</noscript>

	
	</body>

</html>