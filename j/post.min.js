!function(e,t){function n(t){console.log("click");var n=t.target;return"a"==t.target.nodeName.toLowerCase()&&e.innerWidth>=a?(t.preventDefault(),e.open(n.href,"share-this","height=300,width=500,status=no,toolbar=no"),!1):void 0}if(!(!1 in t)){var o=t.querySelectorAll(".entry__sharing"),a=640;o.length>0&&o[0].addEventListener("click",n,!1)}}(this,this.document),function(e,t){function n(e){var n,o,a,d=!("data"in e),s=d?e:e.data,h=d?e.element_id:e.id,m=t.querySelectorAll("#webmention-"+h),u=i.li.cloneNode(!0),N=i.article.cloneNode(!0),b=i.author.cloneNode(!0),_=i.author_name.cloneNode(!0),w=i.author_link.cloneNode(!0),f=i.photo.cloneNode(!0),g=i.meta.cloneNode(!0),C=i.time.cloneNode(!0),v=s.name,y=s.content,k=s.url,E=s.activity?s.activity.type:!1,T="like"==E||"repost"==E,A=s.activity.sentence_html,x=s.author.name,S=s.author.photo,q="";u.id="webmention-"+h,u.appendChild(N),x&&(w.href=s.author.url,S&&(f.src=S,w.appendChild(f)),_.appendChild(t.createTextNode(x)),w.appendChild(_),b.appendChild(w),N.appendChild(b),T&&(v=x+" "+v,N.className+=" webmention--author-starts")),s.published&&(C.setAttribute("datetime",s.published),a=new Date(s.published),q+=a.getUTCDate()+" ",q+=c[a.getUTCMonth()]+" ",q+=a.getUTCFullYear(),C.appendChild(t.createTextNode(q)),g.appendChild(C),k&&g.appendChild(t.createTextNode(" | "))),k&&(o=i.permalink.cloneNode(!0),o.href=k,g.appendChild(o)),"reply"==E&&(v=!1),v&&y&&v==y&&(v=!1),v?(N.className+=" webmention--title-only",v=v.replace("resposts","reposted"),k?(o=i.a.cloneNode(!0),o.href=k,o.appendChild(t.createTextNode(s.name))):o=t.createTextNode(s.name),n=i.title.cloneNode(!0),n.appendChild(o),N.appendChild(r.cloneNode(!0)),N.appendChild(n)):y&&(N.className+=" webmention--content-only",n=i.content.cloneNode(!0),n.appendChild(T&&A?t.createTextNode(A.replace(/href/,'class="p-author h-card" href')):t.createTextNode(y)),N.appendChild(n)),g.children.length>0&&N.appendChild(g),m.length<1?(p&&(p.parentNode.replaceChild(l,p),p=!1),l.appendChild(u)):l.replaceChild(u,m[0]),u=null,m=null,N=null,b=null,w=null,f=null,n=null,o=null,g=null,C=null}if(!(!1 in t)){"AG"in e||(e.AG={}),e.location.origin||(e.location.origin=e.location.protocol+"//"+e.location.host);var o,a,l=t.querySelectorAll(".webmentions__list"),i={a:t.createElement("a"),author_name:t.createElement("b"),article:t.createElement("article"),div:t.createElement("div"),photo:t.createElement("img"),li:t.createElement("li"),time:t.createElement("time")},r=t.createTextNode(" "),c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=[e.location.href],p=!1,s=t.querySelector('meta[property="webmention:redirected_from"]'),h=e.location.origin;if(s&&(a=s.getAttribute("content").split(","),a.forEach(function(e){d.push(e.indexOf("//")<0?h+e:e)}),a=!1),l.length<1){var p=t.querySelectorAll(".webmentions__not-found");if(!p.length)return;p=p[0],l=t.createElement("ol"),l.className="webmentions__list"}else l=l[0];if(i.li.className="webmentions__item",i.article.className="h-cite webmention",i.time.className="webmention__pubdate dt-published",i.author=i.div.cloneNode(),i.author.className="webmention__author p-author h-card",i.author_name.className="p-name",i.author_link=i.a.cloneNode(),i.author_link.className="u-url",i.photo.className="webmention__author__photo u-photo",i.photo.alt="",i.title=i.div.cloneNode(),i.title.className="webmention__title p-name",i.permalink=i.a.cloneNode(),i.permalink.className="webmention__source u-url",i.permalink.appendChild(t.createTextNode("Permalink")),i.content=i.div.cloneNode(),i.content.className="webmention__content p-content",i.meta=i.div.cloneNode(),i.meta.className="webmention__meta",e.AG.processWebmentions=function(e){"error"in e||(e.links.reverse(),e.links.forEach(n))},o=t.createElement("script"),o.async=!0,o.src="http://webmention.io/api/mentions?jsonp=window.AG.processWebmentions&amp;target[]="+d.join("&amp;target[]"),t.getElementsByTagName("head")[0].appendChild(o),l.length&&"WebSocket"in e){var m=new WebSocket("ws://webmention.io:8080");m.onopen=function(){m.send(this_page)},m.onmessage=function(e){n(JSON.parse(e.data))}}}}(this,this.document);